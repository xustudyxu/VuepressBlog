(window.webpackJsonp=window.webpackJsonp||[]).push([[337],{685:function(s,t,a){"use strict";a.r(t);var e=a(10),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"本地镜像发布到阿里云"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地镜像发布到阿里云"}},[s._v("#")]),s._v(" 本地镜像发布到阿里云")]),s._v(" "),t("p"),t("div",{staticClass:"table-of-contents"},[t("ul",[t("li",[t("a",{attrs:{href:"#流程"}},[s._v("流程")])]),t("li",[t("a",{attrs:{href:"#镜像的生成方法"}},[s._v("镜像的生成方法")])]),t("li",[t("a",{attrs:{href:"#将本地镜像推送到阿里云"}},[s._v("将本地镜像推送到阿里云")]),t("ul",[t("li",[t("a",{attrs:{href:"#本地镜像原型"}},[s._v("本地镜像原型")])])])]),t("li",[t("a",{attrs:{href:"#将镜像推送到阿里云"}},[s._v("将镜像推送到阿里云")])]),t("li",[t("a",{attrs:{href:"#将阿里云的镜像下载到本地"}},[s._v("将阿里云的镜像下载到本地")])])])]),t("p"),s._v(" "),t("h2",{attrs:{id:"流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#流程"}},[s._v("#")]),s._v(" 流程")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xustudyxu/image-hosting1@master/20220914/image.nzg3lx1r7y8.webp",alt:"image"}})]),s._v(" "),t("h2",{attrs:{id:"镜像的生成方法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#镜像的生成方法"}},[s._v("#")]),s._v(" 镜像的生成方法")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("第一种：基于当前容器创建一个新的镜像，新功能增强")]),s._v(" "),t("ul",[t("li",[t("RouterLink",{attrs:{to:"/project-management/Docker/Docker_images_principle/#docker镜像commit操作案例"}},[s._v("具体步骤")])],1)])]),s._v(" "),t("li",[t("p",[s._v("第二种：DockerFile章节")])])]),s._v(" "),t("h2",{attrs:{id:"将本地镜像推送到阿里云"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将本地镜像推送到阿里云"}},[s._v("#")]),s._v(" 将本地镜像推送到阿里云")]),s._v(" "),t("h3",{attrs:{id:"本地镜像原型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#本地镜像原型"}},[s._v("#")]),s._v(" 本地镜像原型")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("div",{staticClass:"highlight-lines"},[t("br"),t("br"),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@frx01 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nfrx01/myubuntu      "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.3")]),s._v("                 64df8ffb7faf        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" days ago          179MB\nubuntu              latest              ba6acccedd29        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" months ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v(".8MB\ncentos              latest              5d0da3dc9764        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" months ago       231MB\ntomcat              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.5")]),s._v(".27              a92c139758db        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" years ago         558MB\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("ul",[t("li",[s._v("阿里云开发者平台:"),t("a",{attrs:{href:"https://promotion.aliyun.com/ntms/act/kubernetes.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://promotion.aliyun.com/ntms/act/kubernetes.html"),t("OutboundLink")],1)])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xustudyxu/image-hosting1@master/20220914/image.26vtegy9iack.webp",alt:"image"}})]),s._v(" "),t("ul",[t("li",[s._v("选择控制台，进入容器镜像服务")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xustudyxu/image-hosting1@master/20220914/image.3ggtfvzruxk0.webp",alt:"image"}})]),s._v(" "),t("ul",[t("li",[s._v("进入个人实例")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xustudyxu/image-hosting1@master/20220914/image.6x8g7kynigk0.webp",alt:"image"}})]),s._v(" "),t("ul",[t("li",[s._v("创建命名空间")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xustudyxu/image-hosting1@master/20220914/image.x9xgkhb2rgw.webp",alt:"image"}})]),s._v(" "),t("ul",[t("li",[s._v("创建镜像仓库")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xustudyxu/image-hosting1@master/20220914/image.2qchilnl2di0.webp",alt:"image"}})]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xustudyxu/image-hosting1@master/20220914/image.104ml4c0mzn4.webp",alt:"image"}})]),s._v(" "),t("ul",[t("li",[s._v("进入管理页面获得脚本")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xustudyxu/image-hosting1@master/20220914/image.5a1l9nfogv00.webp",alt:"image"}})]),s._v(" "),t("h2",{attrs:{id:"将镜像推送到阿里云"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将镜像推送到阿里云"}},[s._v("#")]),s._v(" 将镜像推送到阿里云")]),s._v(" "),t("ul",[t("li",[s._v("将镜像推送到阿里云registy")]),s._v(" "),t("li",[s._v("管理页面脚本")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xustudyxu/image-hosting1@master/20220914/image.1t4n31w3b82o.webp",alt:"image"}})]),s._v(" "),t("ul",[t("li",[s._v("执行3的命令")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" login "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--username")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("冯荣旭 registry.cn-shenzhen.aliyuncs.com\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" tag "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("ImageId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" registry.cn-shenzhen.aliyuncs.com/frx01/myubuntu1.3:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("镜像版本号"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" push registry.cn-shenzhen.aliyuncs.com/frx01/myubuntu1.3:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("镜像版本号"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("blockquote",[t("p",[s._v("密码是自己容器镜像下面的访问凭证设置的密码")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xustudyxu/image-hosting1@master/20220914/image.x8qx98px48w.webp",alt:"image"}})]),s._v(" "),t("blockquote",[t("p",[s._v("设置image id和版本号")])]),s._v(" "),t("ul",[t("li",[s._v("在阿里云上面查看结果")])]),s._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/xustudyxu/image-hosting1@master/20220914/image.ogz22mouas0.webp",alt:"image"}})]),s._v(" "),t("h2",{attrs:{id:"将阿里云的镜像下载到本地"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#将阿里云的镜像下载到本地"}},[s._v("#")]),s._v(" 将阿里云的镜像下载到本地")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@frx01 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY                                            TAG                 IMAGE ID            CREATED             SIZE\nregistry.cn-shenzhen.aliyuncs.com/frx01/myubuntu1.3   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.3")]),s._v("                 64df8ffb7faf        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" days ago          179MB\nfrx01/myubuntu                                        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.3")]),s._v("                 64df8ffb7faf        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" days ago          179MB\nubuntu                                                latest              ba6acccedd29        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" months ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v(".8MB\ncentos                                                latest              5d0da3dc9764        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" months ago       231MB\ntomcat                                                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.5")]),s._v(".27              a92c139758db        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" years ago         558MB\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@frx01 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker rmi -f 64df8ffb7faf")]),s._v("\nUntagged: frx01/myubuntu:1.3\nUntagged: registry.cn-shenzhen.aliyuncs.com/frx01/myubuntu1.3:1.3\nUntagged: registry.cn-shenzhen.aliyuncs.com/frx01/myubuntu1.3@sha256:76bc84ede8beac0565b660ce31f588d6d2a1bcbc02f34b6c5b0563023f9b537e\nDeleted: sha256:64df8ffb7faf445aa2c8e0e69e67819c4abe549dae7f6ddea943b1a62588b190\nDeleted: sha256:7d5069718116e4d0a0329ef44838cda33f59aefae7e97e6e403185db6d3a9a80\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("div",{staticClass:"language-sh line-numbers-mode"},[t("div",{staticClass:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("br"),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@frx01 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\nubuntu              latest              ba6acccedd29        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" months ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v(".8MB\ncentos              latest              5d0da3dc9764        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" months ago       231MB\ntomcat              "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.5")]),s._v(".27              a92c139758db        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" years ago         558MB\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@frx01 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker pull registry.cn-shenzhen.aliyuncs.com/frx01/myubuntu1.3:1.3")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.3")]),s._v(": Pulling from frx01/myubuntu1.3\n7b1a6ab2e44d: Already exists\nbc4c9551ae8d: Pull complete\nDigest: sha256:76bc84ede8beac0565b660ce31f588d6d2a1bcbc02f34b6c5b0563023f9b537e\nStatus: Downloaded newer image "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" registry.cn-shenzhen.aliyuncs.com/frx01/myubuntu1.3:1.3\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@frx01 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker images")]),s._v("\nREPOSITORY                                            TAG                 IMAGE ID            CREATED             SIZE\nregistry.cn-shenzhen.aliyuncs.com/frx01/myubuntu1.3   "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.3")]),s._v("                 64df8ffb7faf        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" days ago          179MB\nubuntu                                                latest              ba6acccedd29        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(" months ago       "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("72")]),s._v(".8MB\ncentos                                                latest              5d0da3dc9764        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" months ago       231MB\ntomcat                                                "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8.5")]),s._v(".27              a92c139758db        "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" years ago         558MB\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@frx01 ~"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# docker run -it 64df8ffb7faf /bin/bash")]),s._v("\nroot@a7795849ec26:/"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim a.text")]),s._v("\n")])]),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])])])}),[],!1,null,null,null);t.default=n.exports}}]);